<html>
<head>
  <title></title>
</head>
<body>
  <div id="canvasOutput" style="width:auto">
    <canvas id="canvas" width="200px" height="100px">
      wtf
    </canvas>
  </div>
  <form onsubmit="return input()" style="float:right">
    <label for="colorInput">color: 
      <input onchange="console.info(this);" id="colorInput" value="rgb(255,0,0)+green" />
    </label>
    <label for="sizeInput">size: <input id="sizeInput" value="400x100" /></label>
    <input type="submit" />
  </form>
  <script type="text/javascript"><!--

  function fillRect(colors){
    // console.info(size)
    var l = document.getElementsByTagName('canvas');
    var l = l[l.length-1];
    var c = document.createElement('canvas');
    c.width = l.width;
    c.height = l.height;
    var ctx = c.getContext('2d');
    cl = colors.length
    for(i=0;i<cl;i++){
      var color = colors[i].trim();
      ctx.fillStyle = color;
      for(var y=0;y<c.height;y++){
        for(var x=i+(y%cl);x<c.width;x+=cl){
          ctx.fillRect(x, y, 1, 1)  
        }  
      }
      
    }
    l.parentNode.appendChild(c);
  }

  function input(){
    var colors = colorInput.value.split('+')
    console.info(colors)
    fillRect(colors, sizeInput.value)
    return false; 
  } 


  --></script>



</body>
</html>
